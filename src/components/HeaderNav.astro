---
import HeaderLogo from "./HeaderLogo.astro";
import NavLink from "./NavLink.astro";
import {
	meetupURL,
	getStartedURL,
	aboutURL,
	blogURL,
	donateURL,
	projectsURL,
} from "@/utils/urls";

const activeClass = "text-muted relative after:content-[''] after:absolute after:left-0 after:top-[calc(1em+.2rem)] after:w-2 after:h-1 after:bg-primary";
const routes = [
	{ label: "Get Started", href: getStartedURL },
	{ label: "Events", href: meetupURL },
	{ label: "Projects", href: projectsURL },
	{ label: "Blog", href: blogURL },
	{ label: "About", href: aboutURL },
	{ label: "Donate", href: donateURL, highlight: true }
];
---

<header class="w-full bg-white">
	<nav class="py-4 flex justify-between items-center">
		<NavLink href="/">
			<HeaderLogo />
		</NavLink>
		<ul class="hidden md:flex items-center space-x-6">
				{routes.map((route) => (
					<li>
						<NavLink
							href={route.href}
							class:list={[
								"font-condensed font-semibold text-lg text-stone-800",
								route.highlight && "bg-primary text-white px-4 py-2 rounded-lg hover:bg-[#d54d4b] hover:no-underline"
							]}
							activeClass={activeClass}
						>
							{route.label}
						</NavLink>
					</li>
				))}
				<li>
					<button class="md:hidden text-stone-800" id="mobile-menu-button">
						<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
						</svg>
					</button>
				</li>
		</ul>
	</nav>
	<!-- Mobile menu -->
	<div class="md:hidden hidden bg-white w-full absolute" id="mobile-menu">
		<div class="px-4 py-2 space-y-2">
			{routes.map((route) => (
				<a
					href={route.href}
					class={`block font-[var(--font-barlow)] font-bold text-lg py-2 ${
						route.highlight
							? "text-[var(--color-sf-red)]"
							: "text-stone-800"
					}`}
				>
					{route.label}
				</a>
			))}
		</div>
	</div>
</header>

<script>
	// Mobile menu toggle
	document.addEventListener("DOMContentLoaded", () => {
		const menuButton = document.getElementById("mobile-menu-button");
		const mobileMenu = document.getElementById("mobile-menu");
		if (menuButton && mobileMenu) {
			menuButton.addEventListener("click", () => {
				mobileMenu.classList.toggle("hidden");
			});
		}
	});
</script>
