---
import TagOrnament from "./TagOrnament.astro";

interface Props {
	id?: string;
	anchor?: "left" | "right";
	size?: "lg" | "md" | "sm";
	showOrnament?: boolean;
}

const Sizes = {
	lg: {
		Heading: "h2",
		headingFontSize: "text-6xl md:text-8xl lg:text-9xl",
		bodyFontSize: "text-base sm:text-lg md:text-2xl leading-[1.2]",
	},
	md: {
		Heading: "h3",
		headingFontSize: "text-4xl md:text-6xl leading-[0.9]",
		bodyFontSize: "text-base md:text-lg leading-[1.2]",
	},
	sm: {
		Heading: "h4",
		headingFontSize: "text-2xl md:text-3xl",
		bodyFontSize: "text-sm md:text-base",
	},
};

const {
	id,
	anchor = "left",
	size = "lg",
	showOrnament = true,
} = Astro.props;
const { Heading, headingFontSize, bodyFontSize } = Sizes[size];
---

<section id={id} class="py-4">
	<div
		class:list={[
			"flex flex-col gap-6",
			"md:flex-row md:items-center md:justify-between md:gap-10",
			{ "md:flex-row-reverse": anchor === "right" },
		]}
	>
		<Heading
			class:list={[
				"flex-1",
				"font-condensed",
				"font-semibold",
				"uppercase",
				headingFontSize,
				"leading-[0.8]",
				"mb-0",
				"text-left",
				anchor === "left" && "md:text-right",
			]}
		>
			<slot name="title" />
		</Heading>
		<div
			class:list={[
				"body",
				"flex-1",
				"text-stone-800",
				bodyFontSize,
				"text-left",
				anchor === "right" && "md:text-right",
			]}
		>
			<slot name="body" />
		</div>
	</div>
	{showOrnament && (
		<div class="flex justify-center mt-8">
			<TagOrnament />
		</div>
	)}
</section>

<style>
	h2, h3, h4 {
		:global(b) {
			color: var(--color-sf-red);
			font-weight: inherit;
		}
	}

	div.body {
		:global(p:last-of-type) {
			margin-bottom: 0;
		}

		:global(i) {
			color: var(--color-stone-600);
			font-weight: 600;
		}
	}
</style>
